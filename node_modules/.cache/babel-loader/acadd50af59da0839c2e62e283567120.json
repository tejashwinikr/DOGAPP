{"ast":null,"code":"import { addEventListener } from '@datadog/browser-core';\nvar trackFirstHiddenSingleton;\nvar stopListeners;\nexport function trackFirstHidden(emitter) {\n  if (emitter === void 0) {\n    emitter = window;\n  }\n\n  if (!trackFirstHiddenSingleton) {\n    if (document.visibilityState === 'hidden') {\n      trackFirstHiddenSingleton = {\n        timeStamp: 0\n      };\n    } else {\n      trackFirstHiddenSingleton = {\n        timeStamp: Infinity\n      };\n      stopListeners = addEventListener(emitter, \"pagehide\"\n      /* PAGE_HIDE */\n      , function (_a) {\n        var timeStamp = _a.timeStamp;\n        trackFirstHiddenSingleton.timeStamp = timeStamp;\n      }, {\n        capture: true,\n        once: true\n      }).stop;\n    }\n  }\n\n  return trackFirstHiddenSingleton;\n}\nexport function resetFirstHidden() {\n  if (stopListeners) {\n    stopListeners();\n  }\n\n  trackFirstHiddenSingleton = undefined;\n}","map":{"version":3,"mappings":"AAAA,SAASA,gBAAT,QAAwE,uBAAxE;AAEA,IAAIC,yBAAJ;AACA,IAAIC,aAAJ;AAEA,OAAM,SAAUC,gBAAV,CAA2BC,OAA3B,EAAyD;EAA9B;IAAAA;EAA8B;;EAC7D,IAAI,CAACH,yBAAL,EAAgC;IAC9B,IAAII,QAAQ,CAACC,eAAT,KAA6B,QAAjC,EAA2C;MACzCL,yBAAyB,GAAG;QAAEM,SAAS,EAAE;MAAb,CAA5B;IACD,CAFD,MAEO;MACLN,yBAAyB,GAAG;QAC1BM,SAAS,EAAEC;MADe,CAA5B;MAGUN,aAAa,GAAKF,gBAAgB,CAC1CI,OAD0C,EACnC;MAAA;MADmC,EAG1C,UAACK,EAAD,EAAc;YAAXF,SAAS;QACVN,yBAA0B,CAACM,SAA3B,GAAuCA,SAAvC;MACD,CALyC,EAM1C;QAAEG,OAAO,EAAE,IAAX;QAAiBC,IAAI,EAAE;MAAvB,CAN0C,CAAhB,CAO3BC,IAPA;IAQF;EACF;;EAED,OAAOX,yBAAP;AACD;AAED,OAAM,SAAUY,gBAAV,GAA0B;EAC9B,IAAIX,aAAJ,EAAmB;IACjBA,aAAa;EACd;;EACDD,yBAAyB,GAAGa,SAA5B;AACD","names":["addEventListener","trackFirstHiddenSingleton","stopListeners","trackFirstHidden","emitter","document","visibilityState","timeStamp","Infinity","_a","capture","once","stop","resetFirstHidden","undefined"],"sourceRoot":"","sources":["../../../../src/domain/rumEventsCollection/view/trackFirstHidden.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}