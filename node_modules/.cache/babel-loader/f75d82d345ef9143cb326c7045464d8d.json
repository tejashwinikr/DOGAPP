{"ast":null,"code":"/**\n * Internal context keep returning v1 format\n * to not break compatibility with logs data format\n */\nexport function startInternalContext(applicationId, session, parentContexts) {\n  return {\n    get: function get(startTime) {\n      var viewContext = parentContexts.findView(startTime);\n\n      if (session.isTracked() && viewContext && viewContext.session.id) {\n        var actionContext = parentContexts.findAction(startTime);\n        return {\n          application_id: applicationId,\n          session_id: viewContext.session.id,\n          user_action: actionContext ? {\n            id: actionContext.action.id\n          } : undefined,\n          view: viewContext.view\n        };\n      }\n    }\n  };\n}","map":{"version":3,"mappings":"AAKA;;;;AAIA,OAAM,SAAUA,oBAAV,CAA+BC,aAA/B,EAAsDC,OAAtD,EAA2EC,cAA3E,EAAyG;EAC7G,OAAO;IACLC,GAAG,EAAE,aAACC,SAAD,EAAmB;MACtB,IAAMC,WAAW,GAAGH,cAAc,CAACI,QAAf,CAAwBF,SAAxB,CAApB;;MACA,IAAIH,OAAO,CAACM,SAAR,MAAuBF,WAAvB,IAAsCA,WAAW,CAACJ,OAAZ,CAAoBO,EAA9D,EAAkE;QAChE,IAAMC,aAAa,GAAGP,cAAc,CAACQ,UAAf,CAA0BN,SAA1B,CAAtB;QACA,OAAO;UACLO,cAAc,EAAEX,aADX;UAELY,UAAU,EAAEP,WAAW,CAACJ,OAAZ,CAAoBO,EAF3B;UAGLK,WAAW,EAAEJ,aAAa,GACtB;YACED,EAAE,EAAEC,aAAa,CAACK,MAAd,CAAqBN;UAD3B,CADsB,GAItBO,SAPC;UAQLC,IAAI,EAAEX,WAAW,CAACW;QARb,CAAP;MAUD;IACF;EAhBI,CAAP;AAkBD","names":["startInternalContext","applicationId","session","parentContexts","get","startTime","viewContext","findView","isTracked","id","actionContext","findAction","application_id","session_id","user_action","action","undefined","view"],"sourceRoot":"","sources":["../../src/domain/internalContext.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}