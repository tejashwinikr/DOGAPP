{"ast":null,"code":"import { noop } from '@datadog/browser-core';\nimport { RumEventType } from '../rawRumEvent.types';\nimport { LifeCycleEventType } from './lifeCycle';\nexport function trackEventCounts(lifeCycle, callback) {\n  if (callback === void 0) {\n    callback = noop;\n  }\n\n  var eventCounts = {\n    errorCount: 0,\n    longTaskCount: 0,\n    resourceCount: 0,\n    userActionCount: 0\n  };\n  var subscription = lifeCycle.subscribe(LifeCycleEventType.RUM_EVENT_COLLECTED, function (_a) {\n    var type = _a.type;\n\n    switch (type) {\n      case RumEventType.ERROR:\n        eventCounts.errorCount += 1;\n        callback(eventCounts);\n        break;\n\n      case RumEventType.ACTION:\n        eventCounts.userActionCount += 1;\n        callback(eventCounts);\n        break;\n\n      case RumEventType.LONG_TASK:\n        eventCounts.longTaskCount += 1;\n        callback(eventCounts);\n        break;\n\n      case RumEventType.RESOURCE:\n        eventCounts.resourceCount += 1;\n        callback(eventCounts);\n        break;\n    }\n  });\n  return {\n    stop: function stop() {\n      subscription.unsubscribe();\n    },\n    eventCounts: eventCounts\n  };\n}","map":{"version":3,"mappings":"AAAA,SAASA,IAAT,QAAqB,uBAArB;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,SAAoBC,kBAApB,QAA8C,aAA9C;AASA,OAAM,SAAUC,gBAAV,CAA2BC,SAA3B,EAAiDC,QAAjD,EAAoG;EAAnD;IAAAA;EAAmD;;EACxG,IAAMC,WAAW,GAAG;IAClBC,UAAU,EAAE,CADM;IAElBC,aAAa,EAAE,CAFG;IAGlBC,aAAa,EAAE,CAHG;IAIlBC,eAAe,EAAE;EAJC,CAApB;EAOA,IAAMC,YAAY,GAAGP,SAAS,CAACQ,SAAV,CAAoBV,kBAAkB,CAACW,mBAAvC,EAA4D,UAACC,EAAD,EAAS;QAANC,IAAI;;IACtF,QAAQA,IAAR;MACE,KAAKd,YAAY,CAACe,KAAlB;QACEV,WAAW,CAACC,UAAZ,IAA0B,CAA1B;QACAF,QAAQ,CAACC,WAAD,CAAR;QACA;;MACF,KAAKL,YAAY,CAACgB,MAAlB;QACEX,WAAW,CAACI,eAAZ,IAA+B,CAA/B;QACAL,QAAQ,CAACC,WAAD,CAAR;QACA;;MACF,KAAKL,YAAY,CAACiB,SAAlB;QACEZ,WAAW,CAACE,aAAZ,IAA6B,CAA7B;QACAH,QAAQ,CAACC,WAAD,CAAR;QACA;;MACF,KAAKL,YAAY,CAACkB,QAAlB;QACEb,WAAW,CAACG,aAAZ,IAA6B,CAA7B;QACAJ,QAAQ,CAACC,WAAD,CAAR;QACA;IAhBJ;EAkBD,CAnBoB,CAArB;EAqBA,OAAO;IACLc,IAAI,EAAE;MACJT,YAAY,CAACU,WAAb;IACD,CAHI;IAILf,WAAW;EAJN,CAAP;AAMD","names":["noop","RumEventType","LifeCycleEventType","trackEventCounts","lifeCycle","callback","eventCounts","errorCount","longTaskCount","resourceCount","userActionCount","subscription","subscribe","RUM_EVENT_COLLECTED","_a","type","ERROR","ACTION","LONG_TASK","RESOURCE","stop","unsubscribe"],"sourceRoot":"","sources":["../../src/domain/trackEventCounts.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}