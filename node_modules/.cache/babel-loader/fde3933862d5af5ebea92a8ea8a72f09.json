{"ast":null,"code":"import { monitor } from '../domain/internalMonitoring';\nexport var ONE_SECOND = 1000;\nexport var ONE_MINUTE = 60 * ONE_SECOND;\nexport var ONE_HOUR = 60 * ONE_MINUTE;\nexport var ONE_DAY = 24 * ONE_HOUR;\nexport var ONE_KILO_BYTE = 1024;\nexport var ResourceType;\n\n(function (ResourceType) {\n  ResourceType[\"DOCUMENT\"] = \"document\";\n  ResourceType[\"XHR\"] = \"xhr\";\n  ResourceType[\"BEACON\"] = \"beacon\";\n  ResourceType[\"FETCH\"] = \"fetch\";\n  ResourceType[\"CSS\"] = \"css\";\n  ResourceType[\"JS\"] = \"js\";\n  ResourceType[\"IMAGE\"] = \"image\";\n  ResourceType[\"FONT\"] = \"font\";\n  ResourceType[\"MEDIA\"] = \"media\";\n  ResourceType[\"OTHER\"] = \"other\";\n})(ResourceType || (ResourceType = {}));\n\nexport var RequestType;\n\n(function (RequestType) {\n  RequestType[\"FETCH\"] = \"fetch\";\n  RequestType[\"XHR\"] = \"xhr\";\n})(RequestType || (RequestType = {})); // use lodash API\n\n\nexport function throttle(fn, wait, options) {\n  var needLeadingExecution = options && options.leading !== undefined ? options.leading : true;\n  var needTrailingExecution = options && options.trailing !== undefined ? options.trailing : true;\n  var inWaitPeriod = false;\n  var pendingExecutionWithParameters;\n  var pendingTimeoutId;\n  return {\n    throttled: function throttled() {\n      var parameters = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        parameters[_i] = arguments[_i];\n      }\n\n      if (inWaitPeriod) {\n        pendingExecutionWithParameters = parameters;\n        return;\n      }\n\n      if (needLeadingExecution) {\n        fn.apply(void 0, parameters);\n      } else {\n        pendingExecutionWithParameters = parameters;\n      }\n\n      inWaitPeriod = true;\n      pendingTimeoutId = setTimeout(function () {\n        if (needTrailingExecution && pendingExecutionWithParameters) {\n          fn.apply(void 0, pendingExecutionWithParameters);\n        }\n\n        inWaitPeriod = false;\n        pendingExecutionWithParameters = undefined;\n      }, wait);\n    },\n    cancel: function cancel() {\n      clearTimeout(pendingTimeoutId);\n      inWaitPeriod = false;\n      pendingExecutionWithParameters = undefined;\n    }\n  };\n}\nexport function assign(target) {\n  var toAssign = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    toAssign[_i - 1] = arguments[_i];\n  }\n\n  toAssign.forEach(function (source) {\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  });\n}\n/**\n * UUID v4\n * from https://gist.github.com/jed/982883\n */\n\nexport function generateUUID(placeholder) {\n  return placeholder ? // eslint-disable-next-line  no-bitwise\n  (parseInt(placeholder, 10) ^ Math.random() * 16 >> parseInt(placeholder, 10) / 4).toString(16) : (1e7 + \"-\" + 1e3 + \"-\" + 4e3 + \"-\" + 8e3 + \"-\" + 1e11).replace(/[018]/g, generateUUID);\n}\n/**\n * Return true if the draw is successful\n * @param threshold between 0 and 100\n */\n\nexport function performDraw(threshold) {\n  return threshold !== 0 && Math.random() * 100 <= threshold;\n}\nexport function round(num, decimals) {\n  return +num.toFixed(decimals);\n} // eslint-disable-next-line @typescript-eslint/no-empty-function\n\nexport function noop() {}\n/**\n * Custom implementation of JSON.stringify that ignores value.toJSON.\n * We need to do that because some sites badly override toJSON on certain objects.\n * Note this still supposes that JSON.stringify is correct...\n */\n\nexport function jsonStringify(value, replacer, space) {\n  if (value === null || value === undefined) {\n    return JSON.stringify(value);\n  }\n\n  var originalToJSON = [false, undefined];\n\n  if (hasToJSON(value)) {\n    // We need to add a flag and not rely on the truthiness of value.toJSON\n    // because it can be set but undefined and that's actually significant.\n    originalToJSON = [true, value.toJSON];\n    delete value.toJSON;\n  }\n\n  var originalProtoToJSON = [false, undefined];\n  var prototype;\n\n  if (typeof value === 'object') {\n    prototype = Object.getPrototypeOf(value);\n\n    if (hasToJSON(prototype)) {\n      originalProtoToJSON = [true, prototype.toJSON];\n      delete prototype.toJSON;\n    }\n  }\n\n  var result;\n\n  try {\n    result = JSON.stringify(value, replacer, space);\n  } catch (_a) {\n    result = '<error: unable to serialize object>';\n  } finally {\n    if (originalToJSON[0]) {\n      ;\n      value.toJSON = originalToJSON[1];\n    }\n\n    if (originalProtoToJSON[0]) {\n      ;\n      prototype.toJSON = originalProtoToJSON[1];\n    }\n  }\n\n  return result;\n}\n\nfunction hasToJSON(value) {\n  return typeof value === 'object' && value !== null && value.hasOwnProperty('toJSON');\n}\n\nexport function includes(candidate, search) {\n  return candidate.indexOf(search) !== -1;\n}\nexport function find(array, predicate) {\n  for (var i = 0; i < array.length; i += 1) {\n    var item = array[i];\n\n    if (predicate(item, i, array)) {\n      return item;\n    }\n  }\n\n  return undefined;\n}\nexport function isPercentage(value) {\n  return isNumber(value) && value >= 0 && value <= 100;\n}\nexport function isNumber(value) {\n  return typeof value === 'number';\n}\nexport function objectValues(object) {\n  return Object.keys(object).map(function (key) {\n    return object[key];\n  });\n}\nexport function objectHasValue(object, value) {\n  return Object.keys(object).some(function (key) {\n    return object[key] === value;\n  });\n}\nexport function objectEntries(object) {\n  return Object.keys(object).map(function (key) {\n    return [key, object[key]];\n  });\n}\nexport function isEmptyObject(object) {\n  return Object.keys(object).length === 0;\n}\nexport function mapValues(object, fn) {\n  var newObject = {};\n\n  for (var _i = 0, _a = Object.keys(object); _i < _a.length; _i++) {\n    var key = _a[_i];\n    newObject[key] = fn(object[key]);\n  }\n\n  return newObject;\n}\n/**\n * inspired by https://mathiasbynens.be/notes/globalthis\n */\n\nexport function getGlobalObject() {\n  if (typeof globalThis === 'object') {\n    return globalThis;\n  }\n\n  Object.defineProperty(Object.prototype, '_dd_temp_', {\n    get: function get() {\n      return this;\n    },\n    configurable: true\n  }); // @ts-ignore _dd_temp is defined using defineProperty\n\n  var globalObject = _dd_temp_; // @ts-ignore _dd_temp is defined using defineProperty\n\n  delete Object.prototype._dd_temp_;\n\n  if (typeof globalObject !== 'object') {\n    // on safari _dd_temp_ is available on window but not globally\n    // fallback on other browser globals check\n    if (typeof self === 'object') {\n      globalObject = self;\n    } else if (typeof window === 'object') {\n      globalObject = window;\n    } else {\n      globalObject = {};\n    }\n  }\n\n  return globalObject;\n}\nexport function getLocationOrigin() {\n  return getLinkElementOrigin(window.location);\n}\n/**\n * IE fallback\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/origin\n */\n\nexport function getLinkElementOrigin(element) {\n  if (element.origin) {\n    return element.origin;\n  }\n\n  var sanitizedHost = element.host.replace(/(:80|:443)$/, '');\n  return element.protocol + \"//\" + sanitizedHost;\n}\nexport function findCommaSeparatedValue(rawString, name) {\n  var regex = new RegExp(\"(?:^|;)\\\\s*\" + name + \"\\\\s*=\\\\s*([^;]+)\");\n  var matches = regex.exec(rawString);\n  return matches ? matches[1] : undefined;\n}\nexport function safeTruncate(candidate, length) {\n  var lastChar = candidate.charCodeAt(length - 1); // check if it is the high part of a surrogate pair\n\n  if (lastChar >= 0xd800 && lastChar <= 0xdbff) {\n    return candidate.slice(0, length + 1);\n  }\n\n  return candidate.slice(0, length);\n}\n/**\n * Add an event listener to an event emitter object (Window, Element, mock object...).  This provides\n * a few conveniences compared to using `element.addEventListener` directly:\n *\n * * supports IE11 by: using an option object only if needed and emulating the `once` option\n *\n * * wraps the listener with a `monitor` function\n *\n * * returns a `stop` function to remove the listener\n */\n\nexport function addEventListener(emitter, event, listener, options) {\n  return addEventListeners(emitter, [event], listener, options);\n}\n/**\n * Add event listeners to an event emitter object (Window, Element, mock object...).  This provides\n * a few conveniences compared to using `element.addEventListener` directly:\n *\n * * supports IE11 by: using an option object only if needed and emulating the `once` option\n *\n * * wraps the listener with a `monitor` function\n *\n * * returns a `stop` function to remove the listener\n *\n * * with `once: true`, the listener will be called at most once, even if different events are listened\n */\n\nexport function addEventListeners(emitter, events, listener, _a) {\n  var _b = _a === void 0 ? {} : _a,\n      once = _b.once,\n      capture = _b.capture,\n      passive = _b.passive;\n\n  var wrappedListener = monitor(once ? function (event) {\n    stop();\n    listener(event);\n  } : listener);\n  var options = passive ? {\n    capture: capture,\n    passive: passive\n  } : capture;\n  events.forEach(function (event) {\n    return emitter.addEventListener(event, wrappedListener, options);\n  });\n\n  var stop = function stop() {\n    return events.forEach(function (event) {\n      return emitter.removeEventListener(event, wrappedListener, options);\n    });\n  };\n\n  return {\n    stop: stop\n  };\n}\nexport function runOnReadyState(expectedReadyState, callback) {\n  if (document.readyState === expectedReadyState || document.readyState === 'complete') {\n    callback();\n  } else {\n    var eventName = expectedReadyState === 'complete' ? \"load\"\n    /* LOAD */\n    : \"DOMContentLoaded\"\n    /* DOM_CONTENT_LOADED */\n    ;\n    addEventListener(window, eventName, callback, {\n      once: true\n    });\n  }\n}\n/**\n * Similar to `typeof`, but distinguish plain objects from `null` and arrays\n */\n\nexport function getType(value) {\n  if (value === null) {\n    return 'null';\n  }\n\n  if (Array.isArray(value)) {\n    return 'array';\n  }\n\n  return typeof value;\n}\n\nfunction createCircularReferenceChecker() {\n  if (typeof WeakSet !== 'undefined') {\n    var set_1 = new WeakSet();\n    return {\n      hasAlreadyBeenSeen: function hasAlreadyBeenSeen(value) {\n        var has = set_1.has(value);\n\n        if (!has) {\n          set_1.add(value);\n        }\n\n        return has;\n      }\n    };\n  }\n\n  var array = [];\n  return {\n    hasAlreadyBeenSeen: function hasAlreadyBeenSeen(value) {\n      var has = array.indexOf(value) >= 0;\n\n      if (!has) {\n        array.push(value);\n      }\n\n      return has;\n    }\n  };\n}\n/**\n * Iterate over source and affect its sub values into destination, recursively.\n * If the source and destination can't be merged, return source.\n */\n\n\nexport function mergeInto(destination, source, circularReferenceChecker) {\n  if (circularReferenceChecker === void 0) {\n    circularReferenceChecker = createCircularReferenceChecker();\n  } // ignore the source if it is undefined\n\n\n  if (source === undefined) {\n    return destination;\n  }\n\n  if (typeof source !== 'object' || source === null) {\n    // primitive values - just return source\n    return source;\n  } else if (source instanceof Date) {\n    return new Date(source.getTime());\n  } else if (source instanceof RegExp) {\n    var flags = source.flags || // old browsers compatibility\n    [source.global ? 'g' : '', source.ignoreCase ? 'i' : '', source.multiline ? 'm' : '', source.sticky ? 'y' : '', source.unicode ? 'u' : ''].join('');\n    return new RegExp(source.source, flags);\n  }\n\n  if (circularReferenceChecker.hasAlreadyBeenSeen(source)) {\n    // remove circular references\n    return undefined;\n  } else if (Array.isArray(source)) {\n    var merged_1 = Array.isArray(destination) ? destination : [];\n\n    for (var i = 0; i < source.length; ++i) {\n      merged_1[i] = mergeInto(merged_1[i], source[i], circularReferenceChecker);\n    }\n\n    return merged_1;\n  }\n\n  var merged = getType(destination) === 'object' ? destination : {};\n\n  for (var key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      merged[key] = mergeInto(merged[key], source[key], circularReferenceChecker);\n    }\n  }\n\n  return merged;\n}\n/**\n * A simplistic implementation of a deep clone algorithm.\n * Caveats:\n * - It doesn't maintain prototype chains - don't use with instances of custom classes.\n * - It doesn't handle Map and Set\n */\n\nexport function deepClone(value) {\n  return mergeInto(undefined, value);\n}\nexport function combine() {\n  var sources = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    sources[_i] = arguments[_i];\n  }\n\n  var destination;\n\n  for (var _a = 0, sources_1 = sources; _a < sources_1.length; _a++) {\n    var source = sources_1[_a]; // Ignore any undefined or null sources.\n\n    if (source === undefined || source === null) {\n      continue;\n    }\n\n    destination = mergeInto(destination, source);\n  }\n\n  return destination;\n}","map":{"version":3,"mappings":"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","names":["monitor","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_DAY","ONE_KILO_BYTE","ResourceType","RequestType","throttle","fn","wait","options","needLeadingExecution","leading","undefined","needTrailingExecution","trailing","inWaitPeriod","pendingExecutionWithParameters","pendingTimeoutId","throttled","parameters","setTimeout","cancel","clearTimeout","assign","target","toAssign","forEach","source","key","Object","prototype","hasOwnProperty","call","generateUUID","placeholder","parseInt","Math","random","toString","replace","performDraw","threshold","round","num","decimals","toFixed","noop","jsonStringify","value","replacer","space","JSON","stringify","originalToJSON","hasToJSON","toJSON","originalProtoToJSON","getPrototypeOf","result","includes","candidate","search","indexOf","find","array","predicate","i","length","item","isPercentage","isNumber","objectValues","object","keys","map","objectHasValue","some","objectEntries","isEmptyObject","mapValues","newObject","_i","getGlobalObject","globalThis","defineProperty","get","configurable","globalObject","_dd_temp_","self","window","getLocationOrigin","getLinkElementOrigin","location","element","origin","sanitizedHost","host","protocol","findCommaSeparatedValue","rawString","name","regex","RegExp","matches","exec","safeTruncate","lastChar","charCodeAt","slice","addEventListener","emitter","event","listener","addEventListeners","events","_a","_b","once","capture","passive","wrappedListener","stop","removeEventListener","runOnReadyState","expectedReadyState","callback","document","readyState","eventName","getType","Array","isArray","createCircularReferenceChecker","WeakSet","set_1","hasAlreadyBeenSeen","has","add","push","mergeInto","destination","circularReferenceChecker","Date","getTime","flags","global","ignoreCase","multiline","sticky","unicode","join","merged_1","merged","deepClone","combine","sources"],"sourceRoot":"","sources":["../../src/tools/utils.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}